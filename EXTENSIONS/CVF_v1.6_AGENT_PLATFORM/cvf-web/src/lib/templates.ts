import { Template } from '@/types';

export const templates: Template[] = [
    // BUSINESS TEMPLATES
    // Business Strategy Wizard - Multi-step
    {
        id: 'business_strategy_wizard',
        name: 'üìà Business Strategy Wizard',
        icon: 'üìà',
        description: 'Multi-step wizard t·∫°o Strategic Decision Document qua 4 b∆∞·ªõc. Context ‚Üí Options ‚Üí SWOT/Risk ‚Üí Review',
        category: 'business',
        fields: [], // No fields - handled by wizard component
        intentPattern: '', // Generated by wizard
        outputExpected: ['Strategy Document', 'SWOT Analysis', 'Options Matrix', 'Recommendation'],
    },
    {
        id: 'strategy_analysis',
        name: 'Strategy Analysis',
        icon: 'üìä',
        description: 'Ph√¢n t√≠ch chi·∫øn l∆∞·ª£c kinh doanh, so s√°nh c√°c ph∆∞∆°ng √°n',
        category: 'business',
        fields: [
            { id: 'topic', type: 'text', label: 'Ch·ªß ƒë·ªÅ chi·∫øn l∆∞·ª£c', placeholder: 'VD: M·ªü r·ªông th·ªã tr∆∞·ªùng mi·ªÅn Trung', required: true, section: 'required' },
            { id: 'context', type: 'textarea', label: 'B·ªëi c·∫£nh', placeholder: 'M√¥ t·∫£ ng√†nh, quy m√¥, th·ªã tr∆∞·ªùng...', required: true, rows: 4, section: 'required' },
            { id: 'options', type: 'textarea', label: 'C√°c ph∆∞∆°ng √°n (n·∫øu c√≥)', placeholder: 'Li·ªát k√™ c√°c options ƒëang c√¢n nh·∫Øc', required: false, rows: 3, section: 'advanced' },
            { id: 'constraints', type: 'text', label: 'R√†ng bu·ªôc', placeholder: 'Budget, timeline, resources...', required: false, section: 'advanced' },
            { id: 'priority', type: 'select', label: '∆Øu ti√™n', options: ['Growth', 'Stability', 'Cost Optimization'], default: 'Growth', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën ph√¢n t√≠ch chi·∫øn l∆∞·ª£c [topic].

CONTEXT:
[context]

OPTIONS:
[options]

CONSTRAINTS:
[constraints]

PRIORITY: [priority]

SUCCESS CRITERIA:
- Ph√¢n t√≠ch r√µ ∆∞u/nh∆∞·ª£c ƒëi·ªÉm
- X√°c ƒë·ªãnh r·ªßi ro ch√≠nh  
- ƒê∆∞a ra khuy·∫øn ngh·ªã c√≥ cƒÉn c·ª©`,
        outputExpected: ['Executive Summary', 'Assumptions & Missing Data', 'SWOT Analysis', 'Options Comparison', 'Risk Assessment', 'Recommendations', 'Success Criteria Check', 'Next Actions'],
        outputTemplate: `# Strategy Analysis Output

## Executive Summary
- Goal:
- Primary recommendation:
- Rationale:

## Assumptions & Missing Data
- Missing inputs:
- Assumptions used:

## SWOT Analysis
| Strengths | Weaknesses | Opportunities | Threats |
| --- | --- | --- | --- |
| ... | ... | ... | ... |

## Options Comparison
| Option | Pros | Cons | Cost/Impact | Risks | Notes |
| --- | --- | --- | --- | --- | --- |
| Option A |  |  |  |  |  |
| Option B |  |  |  |  |  |

## Risk Assessment
- Top risks (ranked):
1. ...
2. ...
- Mitigations:
- ...

## Recommendations
- Recommendation 1:
- Recommendation 2 (if needed):

## Success Criteria Check
- [ ] Ph√¢n t√≠ch r√µ ∆∞u/nh∆∞·ª£c ƒëi·ªÉm
- [ ] X√°c ƒë·ªãnh r·ªßi ro ch√≠nh
- [ ] ƒê∆∞a ra khuy·∫øn ngh·ªã c√≥ cƒÉn c·ª©

## Next Actions
- Questions for user:
- Data to confirm:
`,
        sampleOutput: `# Strategy Analysis: Market Expansion

## Executive Summary
Strategic analysis suggests that expanding into the Central region is a viable growth path (Score: 8.5/10), provided that logistics challenges can be mitigated.

## ROI Analysis
- **Estimated Cost:** $500,000
- **Projected Revenue (Year 1):** $1,200,000
- **Break-even Point:** Month 9

## Strategic Options
| Option | Pros | Cons |
|--------|------|------|
| **Direct Expansion** | High control, higher margins | High capex, slow rollout |
| **Partnership** | Fast market entry, low risk | Lower margins, brand dilution risk |

## Recommendation
Proceed with **Partnership** model for the first 12 months to test market demand before committing significant Capex.
`,
    },
    {
        id: 'risk_assessment',
        name: 'Risk Assessment',
        icon: '‚ö†Ô∏è',
        description: 'ƒê√°nh gi√° r·ªßi ro v·ªõi k·∫ø ho·∫°ch gi·∫£m thi·ªÉu',
        category: 'business',
        fields: [
            { id: 'subject', type: 'text', label: 'Ch·ªß ƒë·ªÅ ƒë√°nh gi√°', placeholder: 'VD: D·ª± √°n cloud migration', required: true, section: 'required' },
            { id: 'description', type: 'textarea', label: 'M√¥ t·∫£ chi ti·∫øt', placeholder: 'M√¥ t·∫£ d·ª± √°n/quy·∫øt ƒë·ªãnh c·∫ßn ƒë√°nh gi√°', required: true, rows: 4, section: 'required' },
            { id: 'stakeholders', type: 'text', label: 'Stakeholders', placeholder: 'Ai b·ªã ·∫£nh h∆∞·ªüng?', required: false, section: 'advanced' },
            { id: 'timeline', type: 'text', label: 'Timeline', placeholder: 'Th·ªùi gian th·ª±c hi·ªán', required: false, section: 'advanced' },
            { id: 'tolerance', type: 'select', label: 'Risk Tolerance', options: ['Low', 'Medium', 'High'], default: 'Medium', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën ƒë√°nh gi√° r·ªßi ro c·ªßa [subject].

DESCRIPTION:
[description]

STAKEHOLDERS: [stakeholders]
TIMELINE: [timeline]
RISK TOLERANCE: [tolerance]

SUCCESS CRITERIA:
- X√°c ƒë·ªãnh 5-10 r·ªßi ro ch√≠nh
- Ph√¢n lo·∫°i theo m·ª©c ƒë·ªô (High/Medium/Low)
- ƒê·ªÅ xu·∫•t mitigation cho m·ªói r·ªßi ro`,
        outputExpected: ['Risk Matrix', 'Top Risks', 'Mitigation Plans', 'Contingency Plans', 'Recommendations'],
    },
    {
        id: 'competitor_review',
        name: 'Competitor Review',
        icon: 'üîç',
        description: 'Ph√¢n t√≠ch ƒë·ªëi th·ªß c·∫°nh tranh',
        category: 'business',
        fields: [
            { id: 'company', type: 'text', label: 'C√¥ng ty c·ªßa b·∫°n', placeholder: 'T√™n v√† m√¥ t·∫£ ng·∫Øn', required: true, section: 'required' },
            { id: 'competitors', type: 'textarea', label: 'ƒê·ªëi th·ªß ch√≠nh', placeholder: 'Li·ªát k√™ c√°c ƒë·ªëi th·ªß c·∫ßn ph√¢n t√≠ch', required: true, rows: 3, section: 'required' },
            { id: 'industry', type: 'text', label: 'Ng√†nh', placeholder: 'VD: E-commerce, Fintech...', required: true, section: 'required' },
            { id: 'criteria', type: 'textarea', label: 'Ti√™u ch√≠ so s√°nh', placeholder: 'Gi√°, ch·∫•t l∆∞·ª£ng, marketing, tech...', required: false, rows: 2, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën ph√¢n t√≠ch ƒë·ªëi th·ªß c·∫°nh tranh trong ng√†nh [industry].

MY COMPANY: [company]

COMPETITORS:
[competitors]

COMPARISON CRITERIA:
[criteria]

SUCCESS CRITERIA:
- Ma tr·∫≠n so s√°nh c√°c ƒë·ªëi th·ªß
- ƒêi·ªÉm m·∫°nh/y·∫øu t·ª´ng ƒë·ªëi th·ªß
- C∆° h·ªôi kh√°c bi·ªát h√≥a`,
        outputExpected: ['Competitor Matrix', 'SWOT per Competitor', 'Differentiation Opportunities', 'Market Positioning'],
    },

    // TECHNICAL TEMPLATES
    // System Design Wizard - Multi-step
    {
        id: 'system_design_wizard',
        name: 'üîß System Design Wizard',
        icon: 'üîß',
        description: 'Multi-step wizard t·∫°o System Design Document qua 5 b∆∞·ªõc. Requirements ‚Üí Estimations ‚Üí Design ‚Üí Deep Dive ‚Üí Review',
        category: 'technical',
        fields: [],
        intentPattern: '',
        outputExpected: ['System Design Doc', 'Architecture Diagram', 'API Design', 'Scaling Strategy'],
    },
    {
        id: 'code_review',
        name: 'Code Review',
        icon: 'üíª',
        description: 'Review code v·ªÅ ch·∫•t l∆∞·ª£ng, security, performance',
        category: 'technical',
        fields: [
            { id: 'code', type: 'textarea', label: 'Code c·∫ßn review', placeholder: 'Paste code v√†o ƒë√¢y...', required: true, rows: 10, section: 'required' },
            { id: 'language', type: 'text', label: 'Ng√¥n ng·ªØ', placeholder: 'VD: Python, TypeScript...', required: true, section: 'required' },
            { id: 'context', type: 'textarea', label: 'Context', placeholder: 'Code n√†y l√†m g√¨? Thu·ªôc module n√†o?', required: false, rows: 2, section: 'advanced' },
            { id: 'focus', type: 'multiselect', label: 'Focus areas', options: ['Security', 'Performance', 'Readability', 'Best Practices'], required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën review code [language].

CODE:
\`\`\`[language]
[code]
\`\`\`

CONTEXT: [context]
FOCUS AREAS: [focus]

SUCCESS CRITERIA:
- Ph√°t hi·ªán bugs v√† issues
- ƒê·ªÅ xu·∫•t improvements
- ƒê√°nh gi√° overall quality`,
        outputExpected: ['Issues Found', 'Security Concerns', 'Performance Issues', 'Suggestions', 'Overall Rating'],
    },
    {
        id: 'architecture_review',
        name: 'Architecture Review',
        icon: 'üèóÔ∏è',
        description: 'Review ki·∫øn tr√∫c h·ªá th·ªëng',
        category: 'technical',
        fields: [
            { id: 'system', type: 'text', label: 'T√™n h·ªá th·ªëng', placeholder: 'VD: Payment Service', required: true, section: 'required' },
            { id: 'description', type: 'textarea', label: 'M√¥ t·∫£ ki·∫øn tr√∫c', placeholder: 'C√°c components, data flow, integrations...', required: true, rows: 6, section: 'required' },
            { id: 'requirements', type: 'textarea', label: 'Requirements', placeholder: 'NFRs: scalability, availability...', required: false, rows: 3, section: 'advanced' },
            { id: 'concerns', type: 'text', label: 'ƒêi·ªÉm lo ng·∫°i', placeholder: 'C√≥ g√¨ c·∫ßn focus?', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën review ki·∫øn tr√∫c c·ªßa [system].

ARCHITECTURE:
[description]

REQUIREMENTS:
[requirements]

CONCERNS: [concerns]

SUCCESS CRITERIA:
- ƒê√°nh gi√° design principles
- Ph√°t hi·ªán bottlenecks
- ƒê·ªÅ xu·∫•t improvements`,
        outputExpected: ['Architecture Assessment', 'Strengths', 'Weaknesses', 'Bottlenecks', 'Recommendations'],
    },

    // CONTENT TEMPLATES
    // Content Strategy Wizard - Multi-step
    {
        id: 'content_strategy_wizard',
        name: '‚úçÔ∏è Content Strategy Wizard',
        icon: '‚úçÔ∏è',
        description: 'Multi-step wizard t·∫°o Content Strategy qua 5 b∆∞·ªõc. Brand ‚Üí Audience ‚Üí Pillars ‚Üí Channels ‚Üí Review',
        category: 'content',
        fields: [],
        intentPattern: '',
        outputExpected: ['Content Strategy', 'Editorial Calendar', 'Content Pillars', 'Channel Plan'],
    },
    {
        id: 'documentation',
        name: 'Documentation',
        icon: 'üìù',
        description: 'T·∫°o technical documentation',
        category: 'content',
        fields: [
            { id: 'subject', type: 'text', label: 'Ch·ªß ƒë·ªÅ', placeholder: 'VD: API Authentication Guide', required: true, section: 'required' },
            { id: 'content', type: 'textarea', label: 'N·ªôi dung c·∫ßn document', placeholder: 'M√¥ t·∫£ feature/API/process...', required: true, rows: 6, section: 'required' },
            { id: 'audience', type: 'select', label: 'ƒê·ªëi t∆∞·ª£ng', options: ['Developers', 'End Users', 'Admins', 'All'], default: 'Developers', required: false, section: 'advanced' },
            { id: 'format', type: 'select', label: 'Format', options: ['Tutorial', 'Reference', 'How-to', 'Explanation'], default: 'Reference', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën t·∫°o documentation cho [subject].

CONTENT:
[content]

AUDIENCE: [audience]
FORMAT: [format]

SUCCESS CRITERIA:
- C·∫•u tr√∫c r√µ r√†ng
- C√≥ examples
- D·ªÖ follow`,
        outputExpected: ['Overview', 'Prerequisites', 'Step-by-step Guide', 'Examples', 'Troubleshooting', 'FAQ'],
    },
    {
        id: 'email_template',
        name: 'Email Templates',
        icon: 'üìß',
        description: 'T·∫°o email chuy√™n nghi·ªáp',
        category: 'content',
        fields: [
            { id: 'purpose', type: 'text', label: 'M·ª•c ƒë√≠ch email', placeholder: 'VD: Follow-up sau meeting', required: true, section: 'required' },
            { id: 'context', type: 'textarea', label: 'Context', placeholder: 'T√¨nh hu·ªëng c·ª• th·ªÉ...', required: true, rows: 4, section: 'required' },
            { id: 'recipient', type: 'text', label: 'Ng∆∞·ªùi nh·∫≠n', placeholder: 'VD: Kh√°ch h√†ng, ƒë·ªìng nghi·ªáp...', required: false, section: 'advanced' },
            { id: 'tone', type: 'select', label: 'Tone', options: ['Formal', 'Professional', 'Friendly', 'Urgent'], default: 'Professional', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën so·∫°n email [purpose].

CONTEXT:
[context]

RECIPIENT: [recipient]
TONE: [tone]

SUCCESS CRITERIA:
- Chuy√™n nghi·ªáp
- R√µ r√†ng call-to-action
- Ph√π h·ª£p context`,
        outputExpected: ['Subject Line', 'Opening', 'Body', 'Call to Action', 'Closing'],
    },

    // RESEARCH TEMPLATES
    // Research Project Wizard - Multi-step
    {
        id: 'research_project_wizard',
        name: 'üî¨ Research Project Wizard',
        icon: 'üî¨',
        description: 'Multi-step wizard t·∫°o Research Proposal qua 4 b∆∞·ªõc. Question ‚Üí Methodology ‚Üí Resources ‚Üí Review',
        category: 'research',
        fields: [],
        intentPattern: '',
        outputExpected: ['Research Proposal', 'Methodology', 'Literature Review Outline', 'Timeline'],
    },
    // Data Analysis Wizard - Multi-step
    {
        id: 'data_analysis_wizard',
        name: 'üìä Data Analysis Wizard',
        icon: 'üìä',
        description: 'Multi-step wizard t·∫°o Data Analysis Plan qua 5 b∆∞·ªõc. Problem ‚Üí Understanding ‚Üí Methodology ‚Üí Deliverables ‚Üí Review',
        category: 'research',
        fields: [],
        intentPattern: '',
        outputExpected: ['Analysis Plan', 'Data Profile', 'Methodology', 'Deliverables'],
    },
    {
        id: 'data_analysis',
        name: 'Data Analysis',
        icon: 'üìä',
        description: 'Ph√¢n t√≠ch d·ªØ li·ªáu v√† r√∫t insights',
        category: 'research',
        fields: [
            { id: 'dataset', type: 'textarea', label: 'M√¥ t·∫£ dataset', placeholder: 'Lo·∫°i data, sources, format...', required: true, rows: 4, section: 'required' },
            { id: 'questions', type: 'textarea', label: 'C√¢u h·ªèi nghi√™n c·ª©u', placeholder: 'B·∫°n mu·ªën t√¨m hi·ªÉu ƒëi·ªÅu g√¨?', required: true, rows: 3, section: 'required' },
            { id: 'methods', type: 'text', label: 'Ph∆∞∆°ng ph√°p', placeholder: 'VD: Regression, clustering...', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën ph√¢n t√≠ch d·ªØ li·ªáu.

DATASET:
[dataset]

RESEARCH QUESTIONS:
[questions]

METHODS: [methods]

SUCCESS CRITERIA:
- Insights r√µ r√†ng
- C√≥ supporting evidence
- Actionable recommendations`,
        outputExpected: ['Dataset Overview', 'Key Findings', 'Statistical Analysis', 'Visualizations', 'Insights', 'Recommendations'],
    },

    // MARKETING & SEO TEMPLATES (Phase 1)
    // Marketing Campaign Wizard - Multi-step
    {
        id: 'marketing_campaign_wizard',
        name: 'üì£ Marketing Campaign Wizard',
        icon: 'üì£',
        description: 'Multi-step wizard t·∫°o Campaign Brief qua 5 b∆∞·ªõc. Goals ‚Üí Audience ‚Üí Channels ‚Üí Content ‚Üí Review',
        category: 'marketing',
        fields: [], // No fields - handled by wizard component
        intentPattern: '', // Generated by wizard
        outputExpected: ['Campaign Brief', 'Channel Strategy', 'Content Calendar', 'Ad Copy'],
    },
    {
        id: 'seo_audit',
        name: 'SEO Audit',
        icon: 'üîç',
        description: 'ƒê√°nh gi√° website v·ªÅ Technical SEO, On-page, Off-page',
        category: 'marketing',
        fields: [
            { id: 'url', type: 'text', label: 'URL Website', placeholder: 'https://example.com', required: true, section: 'required' },
            { id: 'industry', type: 'text', label: 'Ng√†nh/Lƒ©nh v·ª±c', placeholder: 'VD: E-commerce, SaaS, Blog...', required: true, section: 'required' },
            { id: 'keywords', type: 'textarea', label: 'Target Keywords', placeholder: 'C√°c t·ª´ kh√≥a ƒëang target', required: false, rows: 2, section: 'advanced' },
            { id: 'competitors', type: 'text', label: 'ƒê·ªëi th·ªß ch√≠nh', placeholder: '2-3 website ƒë·ªëi th·ªß', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën audit SEO cho website [url].

INDUSTRY: [industry]
TARGET KEYWORDS: [keywords]
COMPETITORS: [competitors]

SUCCESS CRITERIA:
- ƒê√°nh gi√° Technical SEO (SSL, speed, mobile)
- ƒê√°nh gi√° On-page SEO (title, meta, content)
- ƒê√°nh gi√° Off-page SEO (backlinks)
- X√°c ƒë·ªãnh priority issues`,
        outputExpected: ['Technical SEO Report', 'On-Page Analysis', 'Content Quality Score', 'Priority Issues', 'Action Plan'],
    },
    {
        id: 'copywriting_evaluation',
        name: 'Copywriting Evaluation',
        icon: '‚úçÔ∏è',
        description: 'ƒê√°nh gi√° v√† c·∫£i thi·ªán marketing copy',
        category: 'marketing',
        fields: [
            { id: 'copy', type: 'textarea', label: 'Copy Text', placeholder: 'Paste ƒëo·∫°n copy c·∫ßn ƒë√°nh gi√°...', required: true, rows: 6, section: 'required' },
            { id: 'type', type: 'select', label: 'Lo·∫°i Copy', options: ['Headline', 'Ad', 'Email', 'Landing Page', 'Product Description'], default: 'Headline', required: true, section: 'required' },
            { id: 'audience', type: 'text', label: 'Target Audience', placeholder: 'ƒê·ªëi t∆∞·ª£ng m·ª•c ti√™u', required: true, section: 'required' },
            { id: 'cta', type: 'text', label: 'M·ª•c ti√™u CTA', placeholder: 'Mua h√†ng, ƒëƒÉng k√Ω, t·∫£i app...', required: true, section: 'required' },
            { id: 'tone', type: 'select', label: 'Tone of Voice', options: ['Professional', 'Casual', 'Urgent', 'Friendly', 'Premium'], default: 'Professional', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën ƒë√°nh gi√° [type] copy.

COPY:
[copy]

TARGET AUDIENCE: [audience]
CTA GOAL: [cta]
TONE: [tone]

SUCCESS CRITERIA:
- ƒê√°nh gi√° clarity, benefits, emotional triggers
- ƒê√°nh gi√° CTA effectiveness
- ƒê·ªÅ xu·∫•t c·∫£i thi·ªán
- Vi·∫øt l·∫°i phi√™n b·∫£n t·ªëi ∆∞u`,
        outputExpected: ['Copy Score (/10)', 'Strengths', 'Issues', 'Rewritten Version', 'A/B Test Ideas'],
    },
    {
        id: 'landing_page_cro',
        name: 'Landing Page CRO',
        icon: 'üéØ',
        description: 'T·ªëi ∆∞u conversion rate cho landing pages',
        category: 'marketing',
        fields: [
            { id: 'url', type: 'text', label: 'Landing Page URL', placeholder: 'https://example.com/landing', required: true, section: 'required' },
            { id: 'goal', type: 'select', label: 'M·ª•c ti√™u conversion', options: ['Sign up', 'Purchase', 'Download', 'Contact', 'Free Trial'], default: 'Sign up', required: true, section: 'required' },
            { id: 'audience', type: 'text', label: 'Target Audience', placeholder: 'ƒê·ªëi t∆∞·ª£ng m·ª•c ti√™u', required: true, section: 'required' },
            { id: 'traffic', type: 'select', label: 'Traffic Source', options: ['Paid Ads', 'Organic', 'Email', 'Social', 'Mixed'], default: 'Mixed', required: false, section: 'advanced' },
            { id: 'currentCR', type: 'text', label: 'Current Conversion Rate', placeholder: 'VD: 2.5%', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën t·ªëi ∆∞u conversion rate cho landing page [url].

CONVERSION GOAL: [goal]
TARGET AUDIENCE: [audience]
TRAFFIC SOURCE: [traffic]
CURRENT CR: [currentCR]

SUCCESS CRITERIA:
- ƒê√°nh gi√° above the fold elements
- X√°c ƒë·ªãnh friction points
- Priority quick wins
- ƒê·ªÅ xu·∫•t A/B tests`,
        outputExpected: ['CRO Score (/100)', 'Above the Fold Analysis', 'Friction Points', 'Quick Wins', 'A/B Test Suggestions'],
    },
    {
        id: 'pricing_strategy',
        name: 'Pricing Strategy Review',
        icon: 'üí∞',
        description: 'ƒê√°nh gi√° v√† t·ªëi ∆∞u pricing strategy',
        category: 'marketing',
        fields: [
            { id: 'product', type: 'text', label: 'S·∫£n ph·∫©m/D·ªãch v·ª•', placeholder: 'M√¥ t·∫£ offering', required: true, section: 'required' },
            { id: 'currentPrice', type: 'text', label: 'Gi√° hi·ªán t·∫°i', placeholder: 'Pricing structure hi·ªán t·∫°i', required: true, section: 'required' },
            { id: 'model', type: 'select', label: 'Pricing Model', options: ['One-time', 'Subscription', 'Tiered', 'Freemium', 'Usage-based'], default: 'Subscription', required: true, section: 'required' },
            { id: 'target', type: 'select', label: 'Target Customer', options: ['B2B Enterprise', 'B2B SMB', 'B2C Premium', 'B2C Mass'], default: 'B2B SMB', required: true, section: 'required' },
            { id: 'competitors', type: 'text', label: 'Gi√° ƒë·ªëi th·ªß', placeholder: 'Pricing c·ªßa competitors', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën ƒë√°nh gi√° pricing strategy cho [product].

CURRENT PRICING: [currentPrice]
MODEL: [model]
TARGET: [target]
COMPETITOR PRICES: [competitors]

SUCCESS CRITERIA:
- Value-based pricing analysis
- Competitive positioning
- Pricing psychology
- ƒê·ªÅ xu·∫•t t·ªëi ∆∞u`,
        outputExpected: ['Pricing Assessment', 'Value Analysis', 'Competitive Position', 'Optimization Opportunities', 'Recommended Structure'],
    },
    {
        id: 'content_quality',
        name: 'Content Quality Checklist',
        icon: 'üìÑ',
        description: 'ƒê√°nh gi√° ch·∫•t l∆∞·ª£ng content v·ªõi E-E-A-T',
        category: 'marketing',
        fields: [
            { id: 'content', type: 'textarea', label: 'Content URL/Text', placeholder: 'Link ho·∫∑c paste n·ªôi dung', required: true, rows: 4, section: 'required' },
            { id: 'type', type: 'select', label: 'Content Type', options: ['Blog', 'Guide', 'Landing page', 'Product page', 'How-to'], default: 'Blog', required: true, section: 'required' },
            { id: 'keyword', type: 'text', label: 'Target Keyword', placeholder: 'T·ª´ kh√≥a ch√≠nh mu·ªën rank', required: true, section: 'required' },
            { id: 'audience', type: 'text', label: 'Target Audience', placeholder: 'ƒê·ªëi t∆∞·ª£ng ƒë·ªçc content', required: true, section: 'required' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën ƒë√°nh gi√° ch·∫•t l∆∞·ª£ng [type] content.

CONTENT:
[content]

TARGET KEYWORD: [keyword]
AUDIENCE: [audience]

SUCCESS CRITERIA:
- E-E-A-T assessment
- SEO optimization check
- Readability score
- Gap analysis vs competitors`,
        outputExpected: ['Content Score (/10)', 'SEO Analysis', 'Readability Report', 'E-E-A-T Assessment', 'Improvement Recommendations'],
    },
    {
        id: 'email_campaign',
        name: 'Email Campaign Review',
        icon: 'üìß',
        description: 'ƒê√°nh gi√° email marketing campaigns',
        category: 'marketing',
        fields: [
            { id: 'email', type: 'textarea', label: 'Email Content', placeholder: 'Paste full email (subject + body)', required: true, rows: 8, section: 'required' },
            { id: 'type', type: 'select', label: 'Email Type', options: ['Newsletter', 'Promotional', 'Transactional', 'Nurture', 'Re-engagement'], default: 'Promotional', required: true, section: 'required' },
            { id: 'audience', type: 'text', label: 'Target Audience', placeholder: 'Segment n√†y l√† ai?', required: true, section: 'required' },
            { id: 'goal', type: 'select', label: 'Campaign Goal', options: ['CTR', 'Sales', 'Engagement', 'Re-engagement'], default: 'CTR', required: true, section: 'required' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën review [type] email campaign.

EMAIL:
[email]

AUDIENCE: [audience]
GOAL: [goal]

SUCCESS CRITERIA:
- Subject line effectiveness
- Body content quality
- CTA clarity
- Mobile-friendliness`,
        outputExpected: ['Email Score (/10)', 'Subject Line Analysis', 'Content Review', 'Deliverability Check', 'Rewritten Version'],
    },
    {
        id: 'social_ad_review',
        name: 'Social Media Ad Review',
        icon: 'üì±',
        description: 'T·ªëi ∆∞u ads tr√™n Facebook, Instagram, TikTok',
        category: 'marketing',
        fields: [
            { id: 'creative', type: 'textarea', label: 'Ad Creative', placeholder: 'M√¥ t·∫£ image/video ho·∫∑c link', required: true, rows: 3, section: 'required' },
            { id: 'copy', type: 'textarea', label: 'Ad Copy', placeholder: 'Headline + Primary text + CTA', required: true, rows: 4, section: 'required' },
            { id: 'platform', type: 'select', label: 'Platform', options: ['Facebook', 'Instagram', 'TikTok', 'LinkedIn', 'YouTube'], default: 'Facebook', required: true, section: 'required' },
            { id: 'objective', type: 'select', label: 'Campaign Objective', options: ['Traffic', 'Conversions', 'Leads', 'Awareness', 'Engagement'], default: 'Conversions', required: true, section: 'required' },
            { id: 'audience', type: 'text', label: 'Target Audience', placeholder: 'Demographics, interests, behaviors', required: true, section: 'required' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën review [platform] ad cho m·ª•c ti√™u [objective].

CREATIVE:
[creative]

AD COPY:
[copy]

AUDIENCE: [audience]

SUCCESS CRITERIA:
- Creative effectiveness (thumb-stopping)
- Copy quality (hook, benefits, CTA)
- Platform optimization
- Predicted performance`,
        outputExpected: ['Ad Score (/10)', 'Creative Analysis', 'Copy Review', 'Platform Optimization', 'A/B Test Ideas', 'Rewritten Ad'],
    },
    {
        id: 'brand_voice',
        name: 'Brand Voice Consistency',
        icon: 'üéôÔ∏è',
        description: 'ƒê·∫£m b·∫£o brand voice nh·∫•t qu√°n',
        category: 'marketing',
        fields: [
            { id: 'brand', type: 'text', label: 'Brand Name', placeholder: 'T√™n th∆∞∆°ng hi·ªáu', required: true, section: 'required' },
            { id: 'industry', type: 'text', label: 'Industry', placeholder: 'Ng√†nh ngh·ªÅ', required: true, section: 'required' },
            { id: 'audience', type: 'text', label: 'Target Audience', placeholder: 'Customer persona ch√≠nh', required: true, section: 'required' },
            { id: 'samples', type: 'textarea', label: 'Sample Content', placeholder: '3-5 samples t·ª´ c√°c channels kh√°c nhau', required: true, rows: 6, section: 'required' },
            { id: 'values', type: 'text', label: 'Brand Values', placeholder: 'Core values c·ªßa brand', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën ƒë√°nh gi√° brand voice consistency cho [brand].

INDUSTRY: [industry]
TARGET AUDIENCE: [audience]
BRAND VALUES: [values]

SAMPLE CONTENT:
[samples]

SUCCESS CRITERIA:
- Voice attributes assessment
- Cross-channel consistency
- Tone appropriateness
- Improvement recommendations`,
        outputExpected: ['Voice Audit', 'Consistency Score (/10)', 'Voice Attributes', 'Tone Matrix', 'Language Guidelines'],
    },

    // PRODUCT & UX TEMPLATES (Phase 2)
    // Product Design Wizard - Multi-step
    {
        id: 'product_design_wizard',
        name: 'üé® Product Design Wizard',
        icon: 'üé®',
        description: 'Multi-step wizard t·∫°o Product Design Spec qua 6 b∆∞·ªõc. Problem ‚Üí User ‚Üí Solution ‚Üí UX ‚Üí Visual ‚Üí Review',
        category: 'product',
        fields: [], // No fields - handled by wizard component
        intentPattern: '', // Generated by wizard
        outputExpected: ['Product Design Spec', 'User Personas', 'User Flows', 'Design Brief'],
    },
    {
        id: 'ab_test_review',
        name: 'A/B Test Review',
        icon: 'üß™',
        description: 'ƒê√°nh gi√° A/B test design v√† results',
        category: 'product',
        fields: [
            { id: 'hypothesis', type: 'textarea', label: 'Hypothesis', placeholder: 'Gi·∫£ thuy·∫øt: N·∫øu... th√¨...', required: true, rows: 2, section: 'required' },
            { id: 'metric', type: 'text', label: 'Primary Metric', placeholder: 'VD: Conversion rate, CTR...', required: true, section: 'required' },
            { id: 'variants', type: 'textarea', label: 'Variants', placeholder: 'Control vs Treatment descriptions', required: true, rows: 3, section: 'required' },
            { id: 'sampleSize', type: 'text', label: 'Sample Size', placeholder: 'S·ªë users m·ªói variant', required: false, section: 'advanced' },
            { id: 'results', type: 'textarea', label: 'Results (n·∫øu c√≥)', placeholder: 'K·∫øt qu·∫£ t·ª´ tool', required: false, rows: 3, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën review A/B test.

HYPOTHESIS: [hypothesis]
PRIMARY METRIC: [metric]
VARIANTS: [variants]
SAMPLE SIZE: [sampleSize]
RESULTS: [results]

SUCCESS CRITERIA:
- Hypothesis quality check
- Statistical validity
- Sample size adequacy
- Result interpretation`,
        outputExpected: ['Test Design Assessment', 'Statistical Analysis', 'Winner Recommendation', 'Next Steps'],
    },
    {
        id: 'accessibility_audit',
        name: 'Accessibility Audit',
        icon: '‚ôø',
        description: 'Ki·ªÉm tra WCAG compliance',
        category: 'product',
        fields: [
            { id: 'url', type: 'text', label: 'Page URL', placeholder: 'https://example.com/page', required: true, section: 'required' },
            { id: 'level', type: 'select', label: 'WCAG Level', options: ['A', 'AA', 'AAA'], default: 'AA', required: true, section: 'required' },
            { id: 'audience', type: 'text', label: 'Target Users', placeholder: 'ƒê·ªëi t∆∞·ª£ng s·ª≠ d·ª•ng c√≥ disability n√†o?', required: false, section: 'advanced' },
            { id: 'issues', type: 'textarea', label: 'Known Issues', placeholder: 'C√°c issues ƒë√£ bi·∫øt', required: false, rows: 3, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën audit accessibility cho page [url].

TARGET WCAG LEVEL: [level]
TARGET USERS: [audience]
KNOWN ISSUES: [issues]

SUCCESS CRITERIA:
- Visual accessibility check
- Keyboard navigation
- Screen reader compatibility
- Color contrast analysis`,
        outputExpected: ['WCAG Compliance Score', 'Critical Issues', 'Recommended Fixes', 'Testing Checklist'],
    },
    {
        id: 'user_flow_analysis',
        name: 'User Flow Analysis',
        icon: 'üîÑ',
        description: 'Ph√¢n t√≠ch v√† t·ªëi ∆∞u user journeys',
        category: 'product',
        fields: [
            { id: 'flow', type: 'textarea', label: 'User Flow', placeholder: 'M√¥ t·∫£ c√°c steps t·ª´ entry ƒë·∫øn goal', required: true, rows: 6, section: 'required' },
            { id: 'goal', type: 'text', label: 'Conversion Goal', placeholder: 'VD: Complete purchase', required: true, section: 'required' },
            { id: 'dropoff', type: 'textarea', label: 'Drop-off Points', placeholder: 'C√°c ƒëi·ªÉm users r·ªùi kh·ªèi flow', required: false, rows: 3, section: 'advanced' },
            { id: 'metrics', type: 'text', label: 'Current Metrics', placeholder: 'Conversion rates at each step', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën ph√¢n t√≠ch user flow.

FLOW DESCRIPTION:
[flow]

CONVERSION GOAL: [goal]
DROP-OFF POINTS: [dropoff]
CURRENT METRICS: [metrics]

SUCCESS CRITERIA:
- Friction point identification
- Drop-off analysis
- Optimization recommendations
- Quick wins vs long-term fixes`,
        outputExpected: ['Flow Diagram', 'Friction Analysis', 'Drop-off Causes', 'Optimization Roadmap'],
    },
    {
        id: 'ux_heuristic_evaluation',
        name: 'UX Heuristic Evaluation',
        icon: 'üìã',
        description: 'ƒê√°nh gi√° UX theo Nielsen\'s 10 Heuristics',
        category: 'product',
        fields: [
            { id: 'product', type: 'text', label: 'Product/Feature', placeholder: 'T√™n s·∫£n ph·∫©m ho·∫∑c feature', required: true, section: 'required' },
            { id: 'description', type: 'textarea', label: 'Description', placeholder: 'M√¥ t·∫£ product/feature', required: true, rows: 4, section: 'required' },
            { id: 'url', type: 'text', label: 'URL (n·∫øu c√≥)', placeholder: 'Link ƒë·∫øn product', required: false, section: 'advanced' },
            { id: 'focus', type: 'text', label: 'Focus Areas', placeholder: 'C√°c areas c·∫ßn focus', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën ƒë√°nh gi√° UX heuristics cho [product].

DESCRIPTION: [description]
URL: [url]
FOCUS AREAS: [focus]

SUCCESS CRITERIA:
- ƒê√°nh gi√° theo Nielsen's 10 Heuristics
- Severity rating cho issues
- Priority recommendations
- Before/After examples`,
        outputExpected: ['Heuristic Scores', 'Issue Severity Matrix', 'Top Issues', 'Recommendations'],
    },
    {
        id: 'feature_prioritization',
        name: 'Feature Prioritization',
        icon: 'üéØ',
        description: 'RICE/ICE framework cho feature prioritization',
        category: 'product',
        fields: [
            { id: 'features', type: 'textarea', label: 'Feature List', placeholder: 'Danh s√°ch features c·∫ßn prioritize', required: true, rows: 6, section: 'required' },
            { id: 'goal', type: 'text', label: 'Product Goal', placeholder: 'M·ª•c ti√™u product hi·ªán t·∫°i', required: true, section: 'required' },
            { id: 'constraints', type: 'text', label: 'Constraints', placeholder: 'Budget, timeline, resources...', required: false, section: 'advanced' },
            { id: 'framework', type: 'select', label: 'Framework', options: ['RICE', 'ICE', 'MoSCoW', 'Kano'], default: 'RICE', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën prioritize features b·∫±ng [framework] framework.

FEATURES:
[features]

PRODUCT GOAL: [goal]
CONSTRAINTS: [constraints]

SUCCESS CRITERIA:
- Score m·ªói feature theo framework
- Prioritized list
- Quick wins identification
- Roadmap suggestion`,
        outputExpected: ['Scoring Matrix', 'Prioritized List', 'Quick Wins', 'Roadmap Recommendation'],
    },
    {
        id: 'user_persona',
        name: 'User Persona Development',
        icon: 'üë§',
        description: 'T·∫°o user personas d·ª±a tr√™n data',
        category: 'product',
        fields: [
            { id: 'product', type: 'text', label: 'Product/Service', placeholder: 'T√™n s·∫£n ph·∫©m/d·ªãch v·ª•', required: true, section: 'required' },
            { id: 'data', type: 'textarea', label: 'User Data', placeholder: 'Demographics, behaviors, interviews...', required: true, rows: 6, section: 'required' },
            { id: 'segments', type: 'text', label: 'User Segments', placeholder: 'C√°c segments ƒë√£ bi·∫øt', required: false, section: 'advanced' },
            { id: 'goals', type: 'text', label: 'Business Goals', placeholder: 'M·ª•c ti√™u kinh doanh', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën t·∫°o user personas cho [product].

USER DATA:
[data]

SEGMENTS: [segments]
BUSINESS GOALS: [goals]

SUCCESS CRITERIA:
- 2-4 distinct personas
- Demographics, goals, pain points
- Jobs to be done
- Decision criteria`,
        outputExpected: ['Persona Profiles', 'User Journey Maps', 'Pain Points', 'Opportunities'],
    },
    {
        id: 'error_handling_ux',
        name: 'Error Handling UX',
        icon: '‚ö†Ô∏è',
        description: 'C·∫£i thi·ªán c√°ch handle errors',
        category: 'product',
        fields: [
            { id: 'errors', type: 'textarea', label: 'Current Error Messages', placeholder: 'Paste c√°c error messages hi·ªán t·∫°i', required: true, rows: 6, section: 'required' },
            { id: 'context', type: 'text', label: 'Error Context', placeholder: 'Form, checkout, login, etc.', required: true, section: 'required' },
            { id: 'audience', type: 'text', label: 'User Type', placeholder: 'Technical users hay end users?', required: false, section: 'advanced' },
            { id: 'tone', type: 'select', label: 'Brand Tone', options: ['Friendly', 'Professional', 'Technical', 'Playful'], default: 'Friendly', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën c·∫£i thi·ªán error handling UX cho context [context].

CURRENT ERRORS:
[errors]

USER TYPE: [audience]
BRAND TONE: [tone]

SUCCESS CRITERIA:
- Error message clarity
- User guidance
- Recovery options
- Consistent tone`,
        outputExpected: ['Error Analysis', 'Rewritten Messages', 'UX Improvements', 'Best Practices'],
    },
    {
        id: 'onboarding_review',
        name: 'Onboarding Experience Review',
        icon: 'üöÄ',
        description: 'T·ªëi ∆∞u first-time user experience',
        category: 'product',
        fields: [
            { id: 'product', type: 'text', label: 'Product', placeholder: 'T√™n s·∫£n ph·∫©m', required: true, section: 'required' },
            { id: 'flow', type: 'textarea', label: 'Current Onboarding Flow', placeholder: 'M√¥ t·∫£ c√°c steps hi·ªán t·∫°i', required: true, rows: 6, section: 'required' },
            { id: 'ttv', type: 'text', label: 'Time to Value', placeholder: 'Hi·ªán t·∫°i bao l√¢u ƒë·ªÉ user th·∫•y value?', required: false, section: 'advanced' },
            { id: 'dropoff', type: 'text', label: 'Drop-off Rate', placeholder: '% users drop-off during onboarding', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën review onboarding experience cho [product].

CURRENT FLOW:
[flow]

TIME TO VALUE: [ttv]
DROP-OFF RATE: [dropoff]

SUCCESS CRITERIA:
- Identify friction points
- Reduce time to value
- Progressive disclosure
- Personalization opportunities`,
        outputExpected: ['Onboarding Assessment', 'Friction Points', 'Optimization Recommendations', 'Metrics to Track'],
    },

    // SECURITY & COMPLIANCE TEMPLATES (Phase 3)
    // Security Assessment Wizard - Multi-step
    {
        id: 'security_assessment_wizard',
        name: 'üîê Security Assessment Wizard',
        icon: 'üîê',
        description: 'Multi-step wizard t·∫°o Security Assessment Report qua 5 b∆∞·ªõc. Scope ‚Üí Threats ‚Üí Vulns ‚Üí Risk ‚Üí Review',
        category: 'security',
        fields: [],
        intentPattern: '',
        outputExpected: ['Security Assessment', 'Threat Model', 'Risk Matrix', 'Remediation Plan'],
    },
    {
        id: 'api_security',
        name: 'API Security Checklist',
        icon: 'üîí',
        description: 'OWASP Top 10 API security audit',
        category: 'security',
        fields: [
            { id: 'endpoints', type: 'textarea', label: 'API Endpoints', placeholder: 'List c√°c endpoints c·∫ßn audit', required: true, rows: 4, section: 'required' },
            { id: 'authType', type: 'select', label: 'Authentication', options: ['JWT', 'OAuth', 'API Key', 'Session', 'None'], default: 'JWT', required: true, section: 'required' },
            { id: 'apiType', type: 'select', label: 'API Type', options: ['REST', 'GraphQL', 'gRPC', 'WebSocket'], default: 'REST', required: true, section: 'required' },
            { id: 'dataSensitivity', type: 'select', label: 'Data Sensitivity', options: ['Public', 'Internal', 'Confidential', 'PII', 'PCI'], default: 'Internal', required: true, section: 'required' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën audit API security.

ENDPOINTS:
[endpoints]

AUTH TYPE: [authType]
API TYPE: [apiType]
DATA SENSITIVITY: [dataSensitivity]

SUCCESS CRITERIA:
- OWASP API Top 10 check
- Authentication/Authorization review
- Input validation
- Rate limiting assessment`,
        outputExpected: ['Security Score', 'Vulnerability Assessment', 'Critical Issues', 'Remediation Guide'],
    },
    {
        id: 'gdpr_compliance',
        name: 'GDPR Compliance Review',
        icon: 'üá™üá∫',
        description: 'EU data protection compliance check',
        category: 'security',
        fields: [
            { id: 'product', type: 'text', label: 'Website/App', placeholder: 'URL ho·∫∑c t√™n app', required: true, section: 'required' },
            { id: 'dataCollected', type: 'textarea', label: 'Data Collected', placeholder: 'Types of personal data', required: true, rows: 3, section: 'required' },
            { id: 'purpose', type: 'textarea', label: 'Processing Purpose', placeholder: 'Why data is collected', required: true, rows: 2, section: 'required' },
            { id: 'thirdParties', type: 'text', label: 'Third Parties', placeholder: 'Analytics, payment, ads...', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën review GDPR compliance cho [product].

DATA COLLECTED:
[dataCollected]

PROCESSING PURPOSE: [purpose]
THIRD PARTIES: [thirdParties]

SUCCESS CRITERIA:
- Consent mechanism check
- User rights implementation
- Privacy policy review
- Cookie compliance`,
        outputExpected: ['Compliance Score', 'Gap Analysis', 'Privacy Policy Review', 'Remediation Plan'],
    },
    {
        id: 'privacy_policy_audit',
        name: 'Privacy Policy Audit',
        icon: 'üìú',
        description: 'Privacy policy review v√† c·∫£i thi·ªán',
        category: 'security',
        fields: [
            { id: 'policy', type: 'textarea', label: 'Policy URL/Text', placeholder: 'Link ho·∫∑c paste policy', required: true, rows: 6, section: 'required' },
            { id: 'businessType', type: 'select', label: 'Business Type', options: ['E-commerce', 'SaaS', 'Mobile App', 'Website', 'Marketplace'], default: 'SaaS', required: true, section: 'required' },
            { id: 'markets', type: 'text', label: 'Target Markets', placeholder: 'US, EU, APAC, Global...', required: true, section: 'required' },
            { id: 'dataTypes', type: 'text', label: 'Data Types', placeholder: 'Types of personal data collected', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën audit privacy policy.

POLICY:
[policy]

BUSINESS TYPE: [businessType]
TARGET MARKETS: [markets]
DATA TYPES: [dataTypes]

SUCCESS CRITERIA:
- Required elements check
- Readability assessment
- Regional compliance
- Third-party coverage`,
        outputExpected: ['Compliance Score', 'Missing Elements', 'Readability Score', 'Improvement Suggestions'],
    },
    {
        id: 'incident_response',
        name: 'Incident Response Plan',
        icon: 'üö®',
        description: 'Security incident response planning',
        category: 'security',
        fields: [
            { id: 'companySize', type: 'select', label: 'Company Size', options: ['Startup', 'SMB', 'Enterprise'], default: 'SMB', required: true, section: 'required' },
            { id: 'industry', type: 'text', label: 'Industry', placeholder: 'Tech, Finance, Healthcare...', required: true, section: 'required' },
            { id: 'criticalSystems', type: 'textarea', label: 'Critical Systems', placeholder: 'Most important systems/data', required: true, rows: 3, section: 'required' },
            { id: 'currentPlan', type: 'textarea', label: 'Current Plan (n·∫øu c√≥)', placeholder: 'Existing IRP', required: false, rows: 3, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën x√¢y d·ª±ng/review incident response plan.

COMPANY SIZE: [companySize]
INDUSTRY: [industry]
CRITICAL SYSTEMS: [criticalSystems]
CURRENT PLAN: [currentPlan]

SUCCESS CRITERIA:
- Team roles definition
- Severity levels
- Response procedures
- Communication templates`,
        outputExpected: ['IRP Assessment', 'Team Roles', 'Response Playbooks', 'Communication Templates'],
    },
    {
        id: 'data_handling',
        name: 'Data Handling Review',
        icon: 'üìä',
        description: 'Data lifecycle management review',
        category: 'security',
        fields: [
            { id: 'dataTypes', type: 'textarea', label: 'Data Types', placeholder: 'PII, PCI, PHI, Business data...', required: true, rows: 3, section: 'required' },
            { id: 'sources', type: 'text', label: 'Data Sources', placeholder: 'Where data comes from', required: true, section: 'required' },
            { id: 'storage', type: 'text', label: 'Storage Systems', placeholder: 'Databases, cloud, files...', required: true, section: 'required' },
            { id: 'regulations', type: 'text', label: 'Regulations', placeholder: 'GDPR, HIPAA, PCI-DSS...', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën review data handling practices.

DATA TYPES: [dataTypes]
DATA SOURCES: [sources]
STORAGE SYSTEMS: [storage]
REGULATIONS: [regulations]

SUCCESS CRITERIA:
- Classification scheme
- Retention policies
- Security controls
- Deletion procedures`,
        outputExpected: ['Data Inventory', 'Classification Matrix', 'Gap Analysis', 'Policy Recommendations'],
    },
    {
        id: 'tos_review',
        name: 'Terms of Service Review',
        icon: 'üìã',
        description: 'Terms of Service coverage v√† fairness',
        category: 'security',
        fields: [
            { id: 'tos', type: 'textarea', label: 'ToS URL/Text', placeholder: 'Link ho·∫∑c paste ToS', required: true, rows: 6, section: 'required' },
            { id: 'serviceType', type: 'select', label: 'Service Type', options: ['SaaS', 'Marketplace', 'Mobile App', 'Website', 'API'], default: 'SaaS', required: true, section: 'required' },
            { id: 'model', type: 'select', label: 'Business Model', options: ['Subscription', 'Free', 'Freemium', 'One-time', 'Usage-based'], default: 'Subscription', required: true, section: 'required' },
            { id: 'markets', type: 'text', label: 'Target Markets', placeholder: 'US, EU, Global...', required: true, section: 'required' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën review Terms of Service.

TOS:
[tos]

SERVICE TYPE: [serviceType]
BUSINESS MODEL: [model]
TARGET MARKETS: [markets]

SUCCESS CRITERIA:
- Essential sections coverage
- User-friendliness
- Fairness assessment
- Regional compliance`,
        outputExpected: ['ToS Score', 'Coverage Analysis', 'Fairness Review', 'Improvement Suggestions'],
    },

    // ========================================
    // APP DEVELOPMENT TEMPLATES
    // ========================================

    // OPTION 0: APP BUILDER WIZARD (Multi-step wizard - RECOMMENDED)
    {
        id: 'app_builder_wizard',
        name: 'üßô App Builder Wizard',
        icon: 'üßô',
        description: 'Multi-step wizard t·∫°o spec qua 8 b∆∞·ªõc. Khuy√™n d√πng cho app ph·ª©c t·∫°p!',
        category: 'development',
        fields: [], // No fields - handled by wizard component
        intentPattern: '', // Generated by wizard
        outputExpected: ['Complete App Spec', 'All Design Decisions', 'Build Ready Output'],
    },

    // OPTION 1: BUILD MY APP (Simple - for non-coders)
    {
        id: 'build_my_app',
        name: 'üöÄ Build My App',
        icon: 'üöÄ',
        description: 'M√¥ t·∫£ √Ω t∆∞·ªüng app ‚Üí AI t·ª± quy·∫øt ƒë·ªãnh m·ªçi th·ª© v√† build cho b·∫°n. D√†nh cho ng∆∞·ªùi kh√¥ng bi·∫øt code.',
        category: 'development',
        fields: [
            { id: 'appIdea', type: 'textarea', label: '√ù t∆∞·ªüng App', placeholder: 'VD: "T√¥i mu·ªën app qu·∫£n l√Ω c√¥ng vi·ªác c√° nh√¢n, c√≥ th·ªÉ th√™m task, ƒë·∫∑t deadline, nh·∫Øc nh·ªü..."', required: true, rows: 4, section: 'required' },
            { id: 'appType', type: 'select', label: 'Lo·∫°i App', options: ['Desktop App (c√†i tr√™n m√°y)', 'CLI Tool (d√≤ng l·ªánh)', 'Web App', 'Mobile App'], required: true, section: 'required' },
            { id: 'targetUser', type: 'text', label: 'Ai s·∫Ω d√πng?', placeholder: 'VD: T√¥i d√πng c√° nh√¢n, Team nh·ªè 5 ng∆∞·ªùi, Kh√°ch h√†ng...', required: true, section: 'required' },
            { id: 'platform', type: 'select', label: 'Ch·∫°y tr√™n', options: ['Windows', 'macOS', 'Linux', 'C·∫£ 3 h·ªá ƒëi·ªÅu h√†nh', 'Web Browser'], required: true, section: 'required' },
            { id: 'preferences', type: 'textarea', label: 'Y√™u c·∫ßu th√™m (optional)', placeholder: 'VD: Giao di·ªán t·ªëi, ƒë∆°n gi·∫£n, offline ƒë∆∞·ª£c...', required: false, rows: 2, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën AI build cho t√¥i m·ªôt [appType].

√ù T∆Ø·ªûNG:
[appIdea]

TH√îNG TIN:
- Ng∆∞·ªùi d√πng: [targetUser]
- Platform: [platform]
- Y√™u c·∫ßu th√™m: [preferences]

QUAN TR·ªåNG - Y√äU C·∫¶U CHO AI:
ƒê√¢y l√† Vibe Coding - User ch·ªâ m√¥ t·∫£ √Ω t∆∞·ªüng, AI ch·ªãu tr√°ch nhi·ªám 100% v·ªÅ:
1. Ph√¢n t√≠ch requirements
2. Ch·ªçn tech stack ph√π h·ª£p
3. Thi·∫øt k·∫ø architecture
4. Thi·∫øt k·∫ø database (n·∫øu c·∫ßn)
5. Build to√†n b·ªô app
6. Test v√† packaging

User ch·ªâ ƒë√°nh gi√° k·∫øt qu·∫£ cu·ªëi c√πng.`,
        outputExpected: ['Complete Working App', 'Setup Instructions', 'User Guide'],
    },

    // OPTION 2: APP BUILDER COMPLETE (Advanced - comprehensive spec)
    {
        id: 'app_builder_complete',
        name: 'üì¶ App Builder Complete',
        icon: 'üì¶',
        description: 'T·∫°o spec ho√†n ch·ªânh v·ªõi ƒë·∫ßy ƒë·ªß th√¥ng tin k·ªπ thu·∫≠t. D√†nh cho ng∆∞·ªùi hi·ªÉu quy tr√¨nh CVF.',
        category: 'development',
        fields: [
            // Section 1: Requirements
            { id: 'appName', type: 'text', label: '1. T√™n App', placeholder: 'VD: TaskFlow', required: true, section: 'required' },
            { id: 'appType', type: 'select', label: '2. Lo·∫°i App', options: ['Desktop (Cross-platform)', 'CLI Tool', 'Desktop + CLI', 'Web SPA', 'Mobile'], required: true, section: 'required' },
            { id: 'problem', type: 'textarea', label: '3. V·∫•n ƒë·ªÅ c·∫ßn gi·∫£i quy·∫øt', placeholder: 'M√¥ t·∫£ v·∫•n ƒë·ªÅ user ƒëang g·∫∑p ph·∫£i', required: true, rows: 3, section: 'required' },
            { id: 'targetUsers', type: 'text', label: '4. Target Users', placeholder: 'VD: Developer c√° nh√¢n, Team nh·ªè', required: true, section: 'required' },
            { id: 'coreFeatures', type: 'textarea', label: '5. Core Features (3-5)', placeholder: '1. Feature A\n2. Feature B\n3. Feature C', required: true, rows: 4, section: 'required' },

            // Section 2: Technical Preferences
            { id: 'platforms', type: 'text', label: '6. Target Platforms', placeholder: 'Windows, macOS, Linux...', required: true, section: 'required' },
            { id: 'techPreference', type: 'text', label: '7. Tech Preference (optional)', placeholder: 'VD: Tauri, Electron, Python...', required: false, section: 'advanced' },
            { id: 'dataStorage', type: 'select', label: '8. Data Storage', options: ['None', 'Local Files (JSON/YAML)', 'Local Database (SQLite)', 'Cloud Database'], required: false, section: 'advanced' },
            { id: 'offlineRequired', type: 'select', label: '9. Offline Mode', options: ['Required', 'Nice to have', 'Not needed'], required: false, section: 'advanced' },

            // Section 3: App-specific
            { id: 'uiStyle', type: 'select', label: '10. UI Style', options: ['Modern Dark', 'Clean Light', 'Minimal', 'No UI (CLI only)'], required: false, section: 'advanced' },
            { id: 'specialFeatures', type: 'textarea', label: '11. Special Features', placeholder: 'VD: System tray, Keyboard shortcuts, Notifications...', required: false, rows: 2, section: 'advanced' },

            // Section 4: Constraints
            { id: 'outOfScope', type: 'textarea', label: '12. Out of Scope', placeholder: 'Nh·ªØng g√¨ KH√îNG l√†m trong v1', required: false, rows: 2, section: 'advanced' },
            { id: 'constraints', type: 'text', label: '13. Constraints', placeholder: 'VD: Bundle < 50MB, No internet required', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T·∫°o Complete App Specification cho [appName] - m·ªôt [appType].

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
SECTION 1: REQUIREMENTS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

**Problem Statement:**
[problem]

**Target Users:** [targetUsers]

**Core Features:**
[coreFeatures]

**Out of Scope:**
[outOfScope]

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
SECTION 2: TECHNICAL REQUIREMENTS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

**Platforms:** [platforms]
**Tech Preference:** [techPreference]
**Data Storage:** [dataStorage]
**Offline Mode:** [offlineRequired]
**Constraints:** [constraints]

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
SECTION 3: UI/UX REQUIREMENTS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

**UI Style:** [uiStyle]
**Special Features:** [specialFeatures]

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
AI INSTRUCTIONS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

D·ª±a tr√™n spec n√†y, h√£y th·ª±c hi·ªán THEO TH·ª® T·ª∞:

**Phase A - Discovery:** X√°c nh·∫≠n b·∫°n hi·ªÉu ƒë√∫ng requirements.

**Phase B - Design:** 
- Ch·ªçn tech stack (KH√îNG h·ªèi user ch·ªçn)
- Thi·∫øt k·∫ø architecture
- Thi·∫øt k·∫ø database schema (n·∫øu c·∫ßn)
- Thi·∫øt k·∫ø API/commands (n·∫øu c·∫ßn)

**Phase C - Build:**
- Build t·ª´ng component
- T·∫°o full source code
- T·∫°o config files

**Phase D - Review:**
- T√≥m t·∫Øt nh·ªØng g√¨ ƒë√£ build
- H∆∞·ªõng d·∫´n setup v√† ch·∫°y
- H∆∞·ªõng d·∫´n packaging/distribution`,
        outputExpected: [
            'Tech Stack Decision',
            'Architecture Diagram',
            'Database Schema (if needed)',
            'Complete Source Code',
            'Setup & Run Instructions',
            'Packaging Guide'
        ],
    },

    // ========================================
    // INDIVIDUAL SKILL TEMPLATES (8) - Hidden in folder
    // ========================================

    // Folder template that groups the 8 individual skills
    {
        id: 'individual_skills_folder',
        name: 'üìÇ Skill Templates (8)',
        icon: 'üìÇ',
        description: '8 templates ri√™ng l·∫ª cho t·ª´ng kh√¢u: Requirements, Tech Stack, Architecture, Database, API, Desktop/CLI, Deployment.',
        category: 'development',
        fields: [],
        intentPattern: '',
        outputExpected: [],
        isFolder: true, // This is a folder, not a template
    },

    {
        id: 'app_requirements_spec',
        name: 'App Requirements Spec',
        icon: 'üìã',
        description: 'Thu th·∫≠p requirements cho app m·ªõi, ƒë·ªãnh nghƒ©a scope v√† success criteria',
        category: 'development',
        parentFolder: 'individual_skills_folder',
        fields: [
            { id: 'appName', type: 'text', label: 'App Name', placeholder: 'VD: TaskFlow - Qu·∫£n l√Ω c√¥ng vi·ªác', required: true, section: 'required' },
            { id: 'appType', type: 'select', label: 'App Type', options: ['Desktop', 'CLI Tool', 'Mobile', 'Web App', 'API Service'], required: true, section: 'required' },
            { id: 'problem', type: 'textarea', label: 'Problem Statement', placeholder: 'V·∫•n ƒë·ªÅ c·∫ßn gi·∫£i quy·∫øt l√† g√¨?', required: true, rows: 3, section: 'required' },
            { id: 'targetUsers', type: 'text', label: 'Target Users', placeholder: 'Ai s·∫Ω d√πng app n√†y?', required: true, section: 'required' },
            { id: 'coreFeatures', type: 'textarea', label: 'Core Features (3-5)', placeholder: '1. Feature 1\n2. Feature 2\n3. Feature 3', required: true, rows: 4, section: 'required' },
            { id: 'outOfScope', type: 'textarea', label: 'Out of Scope', placeholder: 'Nh·ªØng g√¨ KH√îNG l√†m trong phi√™n b·∫£n n√†y', required: true, rows: 3, section: 'required' },
            { id: 'successCriteria', type: 'textarea', label: 'Success Criteria', placeholder: 'Khi n√†o app ƒë∆∞·ª£c coi l√† done?', required: true, rows: 2, section: 'required' },
            { id: 'platform', type: 'text', label: 'Platform', placeholder: 'Windows, macOS, Linux...', required: false, section: 'advanced' },
            { id: 'dataStorage', type: 'select', label: 'Data Storage', options: ['None', 'Local File', 'Local Database (SQLite)', 'Cloud'], required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T√¥i mu·ªën t·∫°o App Requirements Specification cho [appName].

APP INFO:
- Type: [appType]
- Target Users: [targetUsers]
- Platform: [platform]
- Data Storage: [dataStorage]

PROBLEM STATEMENT:
[problem]

CORE FEATURES:
[coreFeatures]

OUT OF SCOPE:
[outOfScope]

SUCCESS CRITERIA:
[successCriteria]

OUTPUT REQUIREMENTS:
- Problem statement r√µ r√†ng
- Core features c√≥ priority
- Out of scope ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a
- Success criteria c√≥ th·ªÉ measure ƒë∆∞·ª£c`,
        outputExpected: ['Requirements Document', 'Feature List with Priority', 'Scope Definition', 'Success Metrics'],
    },
    {
        id: 'tech_stack_selection',
        name: 'Tech Stack Selection',
        icon: 'üîß',
        description: 'Ch·ªçn c√¥ng ngh·ªá ph√π h·ª£p cho app d·ª±a tr√™n requirements',
        category: 'development',
        parentFolder: 'individual_skills_folder',
        fields: [
            { id: 'appType', type: 'select', label: 'App Type', options: ['Desktop (Cross-platform)', 'CLI Tool', 'Mobile (Cross-platform)', 'Web SPA', 'API Backend'], required: true, section: 'required' },
            { id: 'performancePriority', type: 'select', label: 'Performance Priority', options: ['Low', 'Medium', 'High', 'Critical'], required: true, section: 'required' },
            { id: 'devSpeed', type: 'select', label: 'Development Speed Priority', options: ['Low', 'Medium', 'High'], required: true, section: 'required' },
            { id: 'platforms', type: 'text', label: 'Target Platforms', placeholder: 'Windows, macOS, Linux...', required: true, section: 'required' },
            { id: 'dataNeeds', type: 'select', label: 'Data Storage Needs', options: ['None', 'Local Only', 'Cloud Only', 'Both'], required: true, section: 'required' },
            { id: 'offlineRequired', type: 'select', label: 'Offline Required?', options: ['Yes', 'No', 'Partial'], required: true, section: 'required' },
            { id: 'teamExp', type: 'text', label: 'Team Experience', placeholder: 'VD: Python, JavaScript', required: false, section: 'advanced' },
            { id: 'langPreference', type: 'text', label: 'Language Preference', placeholder: 'Ng√¥n ng·ªØ ∆∞u ti√™n (n·∫øu c√≥)', required: false, section: 'advanced' },
            { id: 'bundleSize', type: 'text', label: 'Bundle Size Constraint', placeholder: 'VD: < 50MB', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
So s√°nh v√† recommend tech stack cho [appType].

REQUIREMENTS:
- Performance Priority: [performancePriority]
- Development Speed: [devSpeed]
- Target Platforms: [platforms]
- Data Storage: [dataNeeds]
- Offline Required: [offlineRequired]
- Bundle Size: [bundleSize]

TEAM CONTEXT:
- Experience: [teamExp]
- Language Preference: [langPreference]

OUTPUT REQUIREMENTS:
- Compare at least 2 options per layer
- Clear reasoning for each choice
- Trade-offs acknowledged
- Final stack consistent with requirements`,
        outputExpected: ['Options Comparison Tables', 'Recommended Stack', 'Trade-offs Analysis', 'Setup Commands'],
    },
    {
        id: 'architecture_design',
        name: 'Architecture Design',
        icon: 'üèóÔ∏è',
        description: 'Thi·∫øt k·∫ø ki·∫øn tr√∫c h·ªá th·ªëng v·ªõi component diagram',
        category: 'development',
        parentFolder: 'individual_skills_folder',
        fields: [
            { id: 'appName', type: 'text', label: 'App Name', placeholder: 'T√™n app', required: true, section: 'required' },
            { id: 'techStack', type: 'text', label: 'Tech Stack', placeholder: 'VD: Tauri + Vue 3 + SQLite', required: true, section: 'required' },
            { id: 'coreFeatures', type: 'textarea', label: 'Core Features', placeholder: 'C√°c t√≠nh nƒÉng ch√≠nh', required: true, rows: 3, section: 'required' },
            { id: 'appType', type: 'select', label: 'Architecture Type', options: ['Desktop App', 'CLI Tool', 'Web SPA', 'API Backend', 'Full-stack'], required: true, section: 'required' },
            { id: 'dataFlow', type: 'textarea', label: 'Data Flow', placeholder: 'VD: User ‚Üí UI ‚Üí Backend ‚Üí DB ‚Üí UI', required: true, rows: 2, section: 'required' },
            { id: 'integrations', type: 'text', label: 'External Integrations', placeholder: 'VD: REST API, File system (ho·∫∑c None)', required: false, section: 'advanced' },
            { id: 'stateComplexity', type: 'select', label: 'State Complexity', options: ['Simple', 'Medium', 'Complex'], required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
Thi·∫øt k·∫ø architecture cho [appName].

TECH STACK: [techStack]
APP TYPE: [appType]

CORE FEATURES:
[coreFeatures]

DATA FLOW:
[dataFlow]

EXTERNAL INTEGRATIONS: [integrations]
STATE COMPLEXITY: [stateComplexity]

OUTPUT REQUIREMENTS:
- System diagram (ASCII art)
- Component breakdown v·ªõi responsibilities
- Directory structure
- Data flow documentation
- Key design decisions`,
        outputExpected: ['System Diagram', 'Component Breakdown', 'Directory Structure', 'Data Flow', 'Design Decisions'],
    },
    {
        id: 'database_schema',
        name: 'Database Schema Design',
        icon: 'üóÑÔ∏è',
        description: 'Thi·∫øt k·∫ø database schema v·ªõi ERD v√† SQL',
        category: 'development',
        parentFolder: 'individual_skills_folder',
        fields: [
            { id: 'appName', type: 'text', label: 'App Name', placeholder: 'T√™n app', required: true, section: 'required' },
            { id: 'dbType', type: 'select', label: 'Database Type', options: ['SQLite', 'PostgreSQL', 'MySQL', 'MongoDB'], required: true, section: 'required' },
            { id: 'entities', type: 'textarea', label: 'Main Entities', placeholder: 'VD: User, Task, Category, Tag', required: true, rows: 2, section: 'required' },
            { id: 'relationships', type: 'textarea', label: 'Relationships', placeholder: 'VD: User has many Tasks, Task belongs to Category', required: true, rows: 3, section: 'required' },
            { id: 'keyFields', type: 'textarea', label: 'Key Fields per Entity', placeholder: 'VD: Task: title, description, due_date, status', required: true, rows: 3, section: 'required' },
            { id: 'queryNeeds', type: 'textarea', label: 'Common Queries', placeholder: 'VD: Search by title, filter by status', required: false, rows: 2, section: 'advanced' },
            { id: 'audit', type: 'select', label: 'Audit Requirements', options: ['None', 'Created/Updated timestamps', 'Full audit trail'], required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
Thi·∫øt k·∫ø database schema cho [appName].

DATABASE: [dbType]

ENTITIES:
[entities]

RELATIONSHIPS:
[relationships]

KEY FIELDS:
[keyFields]

COMMON QUERIES:
[queryNeeds]

AUDIT: [audit]

OUTPUT REQUIREMENTS:
- ERD diagram (ASCII art)
- Table definitions v·ªõi data types
- SQL CREATE statements
- Index recommendations
- Sample queries`,
        outputExpected: ['ERD Diagram', 'Table Definitions', 'SQL Schema', 'Indexes', 'Sample Queries'],
    },
    {
        id: 'api_design',
        name: 'API Design Spec',
        icon: 'üîå',
        description: 'Thi·∫øt k·∫ø REST API v·ªõi endpoints v√† request/response format',
        category: 'development',
        parentFolder: 'individual_skills_folder',
        fields: [
            { id: 'appName', type: 'text', label: 'App/Service Name', placeholder: 'T√™n API', required: true, section: 'required' },
            { id: 'apiStyle', type: 'select', label: 'API Style', options: ['REST', 'GraphQL', 'IPC (Desktop)'], required: true, section: 'required' },
            { id: 'resources', type: 'textarea', label: 'Resources/Entities', placeholder: 'VD: User, Task, Category', required: true, rows: 2, section: 'required' },
            { id: 'operations', type: 'textarea', label: 'Operations per Resource', placeholder: 'VD: Task: CRUD + complete, archive', required: true, rows: 3, section: 'required' },
            { id: 'auth', type: 'select', label: 'Authentication', options: ['None', 'JWT Bearer', 'API Key', 'OAuth2'], required: true, section: 'required' },
            { id: 'pagination', type: 'select', label: 'Pagination', options: ['Not needed', 'Offset/Limit', 'Cursor-based'], required: false, section: 'advanced' },
            { id: 'responseFormat', type: 'select', label: 'Response Format', options: ['JSON', 'XML', 'Both'], default: 'JSON', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
Thi·∫øt k·∫ø API specification cho [appName].

API STYLE: [apiStyle]
AUTH: [auth]
RESPONSE FORMAT: [responseFormat]
PAGINATION: [pagination]

RESOURCES:
[resources]

OPERATIONS:
[operations]

OUTPUT REQUIREMENTS:
- All endpoints documented
- Request/Response format with examples
- Error codes and messages
- Authentication details
- Pagination for list endpoints`,
        outputExpected: ['API Overview', 'Endpoint Documentation', 'Request/Response Examples', 'Error Codes', 'Auth Details'],
    },
    {
        id: 'desktop_app_spec',
        name: 'Desktop App Spec',
        icon: 'üñ•Ô∏è',
        description: 'Spec cho desktop app: windows, menus, shortcuts, tray',
        category: 'development',
        parentFolder: 'individual_skills_folder',
        fields: [
            { id: 'appName', type: 'text', label: 'App Name', placeholder: 'T√™n app', required: true, section: 'required' },
            { id: 'framework', type: 'select', label: 'Framework', options: ['Tauri', 'Electron', 'PyQt/PySide', 'Wails', 'Native'], required: true, section: 'required' },
            { id: 'platforms', type: 'text', label: 'Target Platforms', placeholder: 'Windows, macOS, Linux', required: true, section: 'required' },
            { id: 'windowType', type: 'select', label: 'Window Type', options: ['Single Window', 'Multi-Window', 'Frameless'], required: true, section: 'required' },
            { id: 'defaultSize', type: 'text', label: 'Default Size', placeholder: 'VD: 1024x768', required: true, section: 'required' },
            { id: 'menuBar', type: 'textarea', label: 'Menu Bar', placeholder: 'VD: File (New, Save, Exit), Edit, Help', required: true, rows: 2, section: 'required' },
            { id: 'tray', type: 'select', label: 'System Tray', options: ['No', 'Yes - Basic', 'Yes - With Quick Actions'], required: false, section: 'advanced' },
            { id: 'shortcuts', type: 'textarea', label: 'Keyboard Shortcuts', placeholder: 'VD: Ctrl+N new, Ctrl+S save', required: false, rows: 2, section: 'advanced' },
            { id: 'nativeFeatures', type: 'text', label: 'Native Features', placeholder: 'VD: Notifications, File dialogs', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T·∫°o Desktop App Specification cho [appName].

FRAMEWORK: [framework]
PLATFORMS: [platforms]
WINDOW: [windowType], [defaultSize]

MENU BAR:
[menuBar]

SYSTEM TRAY: [tray]

KEYBOARD SHORTCUTS:
[shortcuts]

NATIVE FEATURES: [nativeFeatures]

OUTPUT REQUIREMENTS:
- Window configuration complete
- Menu structure v·ªõi shortcuts
- System tray behavior
- Platform-specific notes
- Lifecycle behavior (startup, close)`,
        outputExpected: ['Window Config', 'Menu Structure', 'Shortcuts Table', 'Tray Behavior', 'Platform Notes'],
    },
    {
        id: 'cli_tool_spec',
        name: 'CLI Tool Spec',
        icon: '‚å®Ô∏è',
        description: 'Spec cho command-line tool: commands, arguments, options',
        category: 'development',
        parentFolder: 'individual_skills_folder',
        fields: [
            { id: 'toolName', type: 'text', label: 'Tool Name', placeholder: 'VD: taskflow ho·∫∑c tf', required: true, section: 'required' },
            { id: 'purpose', type: 'textarea', label: 'Purpose', placeholder: 'Tool n√†y l√†m g√¨?', required: true, rows: 2, section: 'required' },
            { id: 'commands', type: 'textarea', label: 'Commands', placeholder: 'VD: add, list, done, delete, search, config', required: true, rows: 2, section: 'required' },
            { id: 'targetUsers', type: 'text', label: 'Target Users', placeholder: 'Ai s·∫Ω d√πng?', required: true, section: 'required' },
            { id: 'language', type: 'select', label: 'Language', options: ['Python (Click)', 'Rust (Clap)', 'Go (Cobra)', 'Node.js (Commander)', 'Other'], required: true, section: 'required' },
            { id: 'configLocation', type: 'text', label: 'Config Location', placeholder: 'VD: ~/.toolname/config.yaml', required: false, section: 'advanced' },
            { id: 'dataStorage', type: 'text', label: 'Data Storage', placeholder: 'VD: ~/.toolname/data.json', required: false, section: 'advanced' },
            { id: 'outputFormats', type: 'text', label: 'Output Formats', placeholder: 'VD: text, json, table', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T·∫°o CLI Tool Specification cho [toolName].

PURPOSE:
[purpose]

TARGET USERS: [targetUsers]
LANGUAGE: [language]

COMMANDS:
[commands]

CONFIG: [configLocation]
DATA: [dataStorage]
OUTPUT FORMATS: [outputFormats]

OUTPUT REQUIREMENTS:
- All commands documented
- Arguments v√† options clear
- Exit codes defined
- Config file format
- Examples cho m·ªói command`,
        outputExpected: ['Command Documentation', 'Arguments/Options', 'Exit Codes', 'Config Format', 'Usage Examples'],
    },
    {
        id: 'local_deployment',
        name: 'Local Deployment Spec',
        icon: 'üì¶',
        description: 'Packaging v√† distribution spec cho local apps',
        category: 'development',
        parentFolder: 'individual_skills_folder',
        fields: [
            { id: 'appName', type: 'text', label: 'App Name', placeholder: 'T√™n app', required: true, section: 'required' },
            { id: 'appType', type: 'select', label: 'App Type', options: ['Desktop (Tauri)', 'Desktop (Electron)', 'CLI Tool', 'Service'], required: true, section: 'required' },
            { id: 'platforms', type: 'text', label: 'Target Platforms', placeholder: 'Windows, macOS, Linux', required: true, section: 'required' },
            { id: 'distribution', type: 'select', label: 'Distribution Method', options: ['GitHub Releases', 'Website Download', 'Package Manager (npm/pip)', 'Internal Only'], required: true, section: 'required' },
            { id: 'autoUpdate', type: 'select', label: 'Auto-Update', options: ['No', 'Yes - Prompt User', 'Yes - Silent'], required: false, section: 'advanced' },
            { id: 'signing', type: 'select', label: 'Code Signing', options: ['No', 'Windows Only', 'macOS Only', 'Both'], required: false, section: 'advanced' },
            { id: 'dependencies', type: 'text', label: 'Runtime Dependencies', placeholder: 'VD: None, .NET, Python', required: false, section: 'advanced' },
        ],
        intentPattern: `INTENT:
T·∫°o Deployment Specification cho [appName].

APP TYPE: [appType]
PLATFORMS: [platforms]
DISTRIBUTION: [distribution]

AUTO-UPDATE: [autoUpdate]
CODE SIGNING: [signing]
DEPENDENCIES: [dependencies]

OUTPUT REQUIREMENTS:
- Build artifacts for all platforms
- Build commands
- Installer configuration
- Distribution process
- Code signing steps (if applicable)
- Testing checklist`,
        outputExpected: ['Build Artifacts', 'Build Commands', 'Installer Config', 'CI/CD Config', 'Distribution Process'],
    },
];

export function getTemplateById(id: string): Template | undefined {
    return templates.find(t => t.id === id);
}

export function getTemplatesByCategory(category: string): Template[] {
    return templates.filter(t => t.category === category);
}

export function generateIntent(template: Template, values: Record<string, string>): string {
    let intent = template.intentPattern;

    Object.entries(values).forEach(([key, value]) => {
        intent = intent.replace(new RegExp(`\\[${key}\\]`, 'g'), value || 'N/A');
    });

    return intent;
}

/**
 * Generate a complete CVF specification document
 * Ready for copy/paste into any AI (ChatGPT, Claude, Gemini, etc.)
 */
export function generateCompleteSpec(
    template: Template,
    values: Record<string, string>,
    userIntent?: string
): string {
    const date = new Date().toISOString().split('T')[0];
    const intent = generateIntent(template, values);

    // Build user input section
    const userInputLines = Object.entries(values)
        .filter(([, value]) => value && value.trim())
        .map(([key, value]) => {
            const field = template.fields.find(f => f.id === key);
            const label = field?.label || key;
            return `- **${label}:** ${value}`;
        })
        .join('\n');

    // Build expected output section
    const expectedOutput = template.outputExpected
        ?.map(item => `- ${item}`)
        .join('\n') || '- Comprehensive analysis\n- Actionable recommendations';
    const outputTemplate = template.outputTemplate || (template.outputExpected?.length
        ? template.outputExpected.map(section => `## ${section}\n- ...`).join('\n\n')
        : '');

    const requiredFields = template.fields.filter(field => field.required);
    const missingRequired = requiredFields.filter(field => {
        const value = values[field.id];
        return !value || !value.trim() || value.trim().toLowerCase() === 'n/a';
    });
    const inputCoverage = requiredFields.length
        ? [
            '| Field | Provided |',
            '| --- | --- |',
            ...requiredFields.map(field => {
                const value = values[field.id];
                const provided = value && value.trim() && value.trim().toLowerCase() !== 'n/a';
                return `| ${field.label} | ${provided ? '‚úÖ' : '‚ùå'} |`;
            })
        ].join('\n')
        : '(No required inputs)';

    const executionConstraints = `## ‚õî Execution Constraints
- Do not invent missing inputs. If required inputs are missing, stop and ask for clarification.
- Follow the Output Template headings exactly (no reordering).
- Stay within the scope defined by the Task section.
- If data is unavailable, state it explicitly as "Unknown".`;

    const validationHooks = `## ‚úÖ Validation Hooks
- Check required inputs against the Input Coverage table.
- Ensure every Expected Output section is present.
- Include a Success Criteria Check.
- If any item is missing, mark the result as "Not Ready" and list what's missing.`;

    const spec = `---
# CVF Task Specification
**Generated:** ${date}
**Template:** ${template.name}
**Category:** ${template.category}
---

## üìã Context

**Template:** ${template.icon} ${template.name}

${template.description}

---

## üìù User Input

${userInputLines || '(No input provided)'}

---

## ‚úÖ Input Coverage

${inputCoverage}
${missingRequired.length ? `\n\n**Missing Required Inputs:** ${missingRequired.map(field => field.label).join(', ')}` : ''}

---

## üéØ Task

${intent}

---

## üì§ Expected Output Format

${expectedOutput}

${outputTemplate ? `\n---\n\n## üìê Output Template\n\n\`\`\`markdown\n${outputTemplate}\n\`\`\`\n` : ''}

---

${executionConstraints}

---

${validationHooks}

---

## üí° Instructions for AI

Please analyze the information provided above and generate a comprehensive response that:
1. Addresses all the success criteria listed in the Task section
2. Follows the Expected Output Format structure
3. Provides actionable insights and recommendations
4. Uses clear, professional language
5. Includes specific examples where applicable

---

> **CVF v1.5 UX Platform**
> Copy this entire specification and paste into your preferred AI assistant (ChatGPT, Claude, Gemini, etc.)
`;

    return spec;
}

